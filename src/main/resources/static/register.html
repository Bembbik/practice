<!DOCTYPE html>
<html lang="ru">
<head>
    <meta name="_csrf" content="${_csrf.token}"/>
    <meta name="_csrf_header" content="${_csrf.headerName}"/>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Регистрация</title>
    <meta name="description" content="Краткое описание страницы">
    <link rel="stylesheet" href="/css/register.css">
    <link rel="icon" href="/favicon.ico" type="image/x-icon">
</head>

<body>
<div class="main">
    <div class="main__body">
        <div class="main__logo">
            <div class="logo">
                <a href="#"><img src="/image/logo.svg" alt="logo"></a>
            </div>
        </div>
        <div class="main__button">
            <div class="friends">
                <a href="#"><img src="/image/friends.svg" alt="friends"></a>
            </div>
            <div class="profile">
                <a href="#"><img src="/image/profile.svg" alt="profile"></a>
            </div>
        </div>
    </div>
</div>

<div class="registration">
    <div class="registration__heading">
        Регистрация
    </div>
    <div class="registration__window">
        <div class="window_grey"></div>
    </div>

    <!-- ✅ Форма для POST-запроса -->
    <form action="/register" method="post">
        <div class="registration__input">
            <input type="text" name="name" class="name registration__input" placeholder="Введите имя" required>
            <input type="text" name="username" class="login registration__input" placeholder="Придумайте логин" required>
            <input type="password" name="password" class="password registration__input" placeholder="Придумайте пароль" required>
            <input type="password" name="confirmPassword" class="confirm_password registration__input" placeholder="Подтвердите пароль" required>
        </div>

        <div class="registration__button">
            <button type="submit" class="reg_button">Зарегистрироваться</button>
            <a href="#"><div class="login_button">Войти</div></a>
        </div>
    </form>
</div>
<script>
    const token = document.querySelector('meta[name="_csrf"]').getAttribute('content');
    const header = document.querySelector('meta[name="_csrf_header"]').getAttribute('content');

    const form = document.getElementById('registerForm');
    if (form) {
        const input = document.createElement('input');
        input.type = 'hidden';
        input.name = '_csrf';
        input.value = token;
        form.appendChild(input);
    }
</script>
</body>
</html>
